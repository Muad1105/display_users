{"version":3,"file":"static/js/968.8f96cd36.chunk.js","mappings":"sQA2GA,EA9Fc,WACZ,IAAAA,GAAkCC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAvCI,EAASF,EAAA,GAAEG,EAAYH,EAAA,GAC9BI,GAA8CL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAnDE,EAAeD,EAAA,GAAEE,EAAkBF,EAAA,GAC1CG,GAAsCT,EAAAA,EAAAA,WAAS,GAAMU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAA9CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,IAElCG,EAAAA,EAAAA,YAAU,WACRC,GACF,GAAG,KAEHD,EAAAA,EAAAA,YAAU,WACRE,QAAQC,IAAIb,EACd,GAAG,CAACA,IAEJ,IAAMW,EAAY,WAChBG,EAAAA,EAAMC,IAhBE,sCAgBOC,MAAK,SAACC,GACnBL,QAAQC,IAAI,MAAOI,EAAIC,KAAKC,OAC5BlB,EAAagB,EAAIC,KAAKC,MACxB,GACF,GAEAT,EAAAA,EAAAA,YAAU,WACR,IAAMU,EAAe,WACnBf,EAAmBgB,OAAOC,WAAa,EACzC,EAKA,OAHAD,OAAOE,iBAAiB,SAAUH,GAG3B,WACLC,OAAOG,oBAAoB,SAAUJ,EACvC,CACF,GAAG,CAAChB,IAiBJ,OACEqB,EAAAA,EAAAA,MAAA,OACEC,UACElB,EACI,2CACA,kBACLmB,SAAA,EAEDF,EAAAA,EAAAA,MAAA,OAAKC,UAAyB,YAA0BC,SAAA,EACtDC,EAAAA,EAAAA,KAACC,EAAAA,IAAW,KACZD,EAAAA,EAAAA,KAAA,KAAAD,SAAG,WACHC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,mBAAmBI,QAAS,kBAf/ClB,QAAQC,IAAI,aACZJ,GAAgBD,EAcoD,EAACmB,SAC9DnB,GAAcoB,EAAAA,EAAAA,KAACG,EAAAA,IAAgB,KAAMH,EAAAA,EAAAA,KAACI,EAAAA,IAAc,UAGzDJ,EAAAA,EAAAA,KAAA,QAAMF,UAAWlB,EAAc,oBAAsB,OAAOmB,UAC1DC,EAAAA,EAAAA,KAACK,EAAAA,EAAI,CAACP,UAAU,eAAcC,UAC5BC,EAAAA,EAAAA,KAACM,EAAAA,EAAW,CACVhB,KAAMlB,EACNmC,OAAQ/B,EACRgC,WAAY,GACZC,QAAQ,KACRC,SArCO,SAACC,GAChB3B,QAAQC,IAAI0B,EAAEC,eAEZD,EAAEC,cAAcC,aAAeF,EAAEC,cAAcE,YAC/CtC,GAEAO,GAEJ,EA8BUe,UAAU,yBAAwBC,SAEjC,SAACgB,GAAI,OACJf,EAAAA,EAAAA,KAACK,EAAAA,EAAKW,KAAI,CAAelB,UAAU,YAAWC,UAC5CC,EAAAA,EAAAA,KAACK,EAAAA,EAAKW,KAAKC,KAAI,CACbnB,UAAU,iBACVoB,QACElB,EAAAA,EAAAA,KAACmB,EAAAA,EAAM,CACLC,IAAKL,EAAKM,eACVvB,UAAU,iBAGdwB,OAAOtB,EAAAA,EAAAA,KAAA,KAAGF,UAAU,cAAaC,SAAEgB,EAAKQ,UAT5BR,EAAKS,GAWT,UAO1B,C","sources":["components/LoggedInPage/miniComponents/chats/index.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { BsChatRight } from \"react-icons/bs\";\r\nimport { RiArrowDownSLine, RiArrowUpSLine } from \"react-icons/ri\";\r\n\r\nimport { Avatar, List, message } from \"antd\";\r\nimport VirtualList from \"rc-virtual-list\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./style.scss\";\r\n\r\nconst url = \"https://panorbit.in/api/users.json\";\r\n\r\nconst Chats = () => {\r\n  const [chatUsers, setChatUsers] = useState([]);\r\n  const [containerHeight, setContainerHeight] = useState(\"\");\r\n  const [showChatBox, setShowChatBox] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(chatUsers);\r\n  }, [chatUsers]);\r\n\r\n  const fetchData = () => {\r\n    axios.get(url).then((res) => {\r\n      console.log(\"res\", res.data.users);\r\n      setChatUsers(res.data.users);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setContainerHeight(window.innerWidth / 6);\r\n    };\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n\r\n    // Clean up the event listener on component unmount\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n    };\r\n  }, [containerHeight]);\r\n\r\n  const onScroll = (e) => {\r\n    console.log(e.currentTarget);\r\n    if (\r\n      e.currentTarget.scrollHeight - e.currentTarget.scrollTop ===\r\n      containerHeight\r\n    ) {\r\n      fetchData();\r\n    }\r\n  };\r\n\r\n  const handleChatbox = () => {\r\n    console.log(\"chat\");\r\n    setShowChatBox(!showChatBox);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        showChatBox\r\n          ? \"chats-container chats-container-bottom-0\"\r\n          : \"chats-container\"\r\n      }\r\n    >\r\n      <nav className={showChatBox ? \"chats-nav\" : \"chats-nav\"}>\r\n        <BsChatRight />\r\n        <p>Chats</p>\r\n        <div className=\"open-close-arrow\" onClick={() => handleChatbox()}>\r\n          {showChatBox ? <RiArrowDownSLine /> : <RiArrowUpSLine />}\r\n        </div>\r\n      </nav>\r\n      <main className={showChatBox ? \"main display-main\" : \"main\"}>\r\n        <List className=\"list-section\">\r\n          <VirtualList\r\n            data={chatUsers}\r\n            height={containerHeight}\r\n            itemHeight={17}\r\n            itemKey=\"id\"\r\n            onScroll={onScroll}\r\n            className=\"virtual-list-container\"\r\n          >\r\n            {(item) => (\r\n              <List.Item key={item.id} className=\"item-list\">\r\n                <List.Item.Meta\r\n                  className=\"list-item-meta\"\r\n                  avatar={\r\n                    <Avatar\r\n                      src={item.profilepicture}\r\n                      className=\"avatar-style\"\r\n                    />\r\n                  }\r\n                  title={<a className=\"title-style\">{item.name}</a>}\r\n                />\r\n              </List.Item>\r\n            )}\r\n          </VirtualList>\r\n        </List>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chats;\r\n"],"names":["_useState","useState","_useState2","_slicedToArray","chatUsers","setChatUsers","_useState3","_useState4","containerHeight","setContainerHeight","_useState5","_useState6","showChatBox","setShowChatBox","useEffect","fetchData","console","log","axios","get","then","res","data","users","handleResize","window","innerWidth","addEventListener","removeEventListener","_jsxs","className","children","_jsx","BsChatRight","onClick","RiArrowDownSLine","RiArrowUpSLine","List","VirtualList","height","itemHeight","itemKey","onScroll","e","currentTarget","scrollHeight","scrollTop","item","Item","Meta","avatar","Avatar","src","profilepicture","title","name","id"],"sourceRoot":""}